package  {	import flash.display.MovieClip;	import flash.events.*;	import flash.utils.Dictionary;	import com.greensock.*;	import com.greensock.plugins.*;		public class CategoryPage extends MovieClip {				private var yPos:Number = 50;		private var textHeight:Number = 0;		private var mySpecNav:SpecNav;		private var _xml:XML;		private var _dictProductPage:Dictionary = new Dictionary();		private var _mySpecButtonArray:Array = [];		TweenPlugin.activate([TintPlugin]);		public function CategoryPage(xml:XML) 		{			_xml = xml;						this.addEventListener("specButtonClicked", specButtonClickedHandler);						mySpecNav = new SpecNav();			mySpecNav.x = 411;			mySpecNav.y = 150;			this.addChild(mySpecNav);			mySpecNav.addEventListener(Event.ADDED_TO_STAGE,createButtons);		}				private function specButtonClickedHandler(e:Event):void		{			// hide every pages:			for (var k in _dictProductPage) 			{				_dictProductPage[k].visible = false;			}			// show the selected page:			_dictProductPage[e.target.currentType].visible = true;									// reset all buttons to true:			for (var i:Number=0; i<_mySpecButtonArray.length; i++)			{				//_mySpecButtonArray[i].mouseChildren = true;				TweenLite.to(_mySpecButtonArray[i], 0, {tint:0x666666});							}			// set the selected button to false and make it green:			//e.target.mouseChildren = false;			TweenLite.to(e.target, 0, {tint:0x70AC45});			}				private function createButtons(e:Event):void 		{			for (var i:Number=0; i<_xml.tabs.tab.specsRating.spec.length(); i++)			{				var type:String = _xml.tabs.tab.specsRating.spec[i].@type;				if(type == "title"){					var mySpecTitle:specTitle = new specTitle(_xml.tabs.tab.specsRating.spec[i]);					mySpecNav.addChild(mySpecTitle);					mySpecTitle.x = 10;					mySpecTitle.y = yPos;					yPos =  yPos + mySpecTitle.height;				} else if (type == "spacer"){					yPos = yPos + 20;				} else 				{					var mySpecButton:specButton = new specButton(_xml.tabs.tab.specsRating.spec[i], type);					mySpecNav.addChild(mySpecButton);					mySpecButton.x = 10;					mySpecButton.y = yPos;					_mySpecButtonArray.push(mySpecButton);					yPos =  yPos + mySpecButton.height;					if(i == 1){TweenLite.to(mySpecButton, 0, {tint:0x70AC45});}										var myProductPage:ProductPage = new ProductPage(type,_xml);					_dictProductPage[type] = myProductPage;					addChild(myProductPage);					// show the first page of each categoty:					if(i == 1) {myProductPage.visible = true;}					else {myProductPage.visible = false;}				}			}			}					public function showFirstCategoryPage(showFirstType:*):void 		{			// hide every pages:			for (var k in _dictProductPage) 			{				_dictProductPage[k].visible = false;			}			// show the selected page:			_dictProductPage[showFirstType].visible = true;		}	}}			